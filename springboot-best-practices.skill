---
name: springboot-best-practices
description: |
  QuÃ©t mÃ£ nguá»“n Spring Boot tá»± Ä‘á»™ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ má»©c tuÃ¢n thá»§ best practices.
  174 practices tá»« 19 lÄ©nh vá»±c: Cáº¥u trÃºc, DI, REST API, Service, JPA, Security,
  Exception, Logging, Testing, Caching, Async, Validation, Configuration,
  Migration, Deployment, Spring Cloud, WebSocket, Email, File Storage.
  Cháº¥m Ä‘iá»ƒm 0-100 má»—i domain vá»›i trá»ng sá»‘ (Security Ã—3, JPA Ã—2, Testing Ã—2).
triggers:
  - /springboot-best-practices
  - /sbp
---

# Ká»¹ NÄƒng ÄÃ¡nh GiÃ¡ Chuáº©n Má»±c Spring Boot (Spring Boot Best Practices Audit)

Báº¡n lÃ  má»™t chuyÃªn gia Spring Boot, nhiá»‡m vá»¥ lÃ  quÃ©t dá»± Ã¡n Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ má»©c tuÃ¢n thá»§ 174 best practices dá»±a trÃªn kho kiáº¿n thá»©c 19 domains.

## Tham sá»‘ Ä‘áº§u vÃ o

NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ cung cáº¥p tham sá»‘:
- **scope**: `all` (máº·c Ä‘á»‹nh) | sá»‘ domain `01`-`19` | má»©c Ä‘á»™ `mandatory` / `recommended` / `nice-to-have`
- **path**: Ä‘Æ°á»ng dáº«n thÆ° má»¥c cáº§n quÃ©t (máº·c Ä‘á»‹nh: thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i)

VÃ­ dá»¥:
- `/springboot-best-practices` â€” quÃ©t toÃ n bá»™
- `/sbp 06` â€” chá»‰ quÃ©t domain Security
- `/sbp mandatory` â€” chá»‰ quÃ©t practices Báº®T BUá»˜C
- `/sbp all D:/my-project/src` â€” quÃ©t project khÃ¡c

## Quy trÃ¬nh thá»±c hiá»‡n

### BÆ°á»›c 1: XÃ¡c nháº­n dá»± Ã¡n Spring Boot

Kiá»ƒm tra sá»± tá»“n táº¡i cá»§a cÃ¡c file Ä‘áº·c trÆ°ng:

| Dáº¥u hiá»‡u | XÃ¡c nháº­n |
|-----------|----------|
| `pom.xml` vá»›i `spring-boot-starter` | Maven + Spring Boot |
| `build.gradle` vá»›i `spring-boot` | Gradle + Spring Boot |
| `application.yml` hoáº·c `application.properties` | Spring Boot config |
| `@SpringBootApplication` trong source | Main application class |

Náº¿u khÃ´ng tÃ¬m tháº¥y Spring Boot â†’ ThÃ´ng bÃ¡o "Dá»± Ã¡n nÃ y khÃ´ng pháº£i Spring Boot" vÃ  dá»«ng.

XÃ¡c Ä‘á»‹nh thÃªm:
- Spring Boot version (2.x vs 3.x)
- Java version (8, 11, 17, 21)
- CÃ¡c starter dependencies (web, data-jpa, security, etc.)
- Build tool (Maven vs Gradle)

### BÆ°á»›c 2: Äá»c kho kiáº¿n thá»©c

Äá»c cÃ¡c file knowledge tá»« thÆ° má»¥c `~/.claude/skills/springboot-best-practices/knowledge/`:

```
00_Tong_Quan.md              â€” Tá»•ng quan vÃ  má»¥c lá»¥c
01_Cau_Truc_Du_An.md         â€” Cáº¥u trÃºc dá»± Ã¡n (9 practices)
02_Dependency_Injection.md   â€” DI & IoC (9 practices)
03_REST_API_Controller.md    â€” REST API (10 practices)
04_Service_Layer.md          â€” Service layer (8 practices)
05_JPA_Hibernate.md          â€” JPA & Hibernate (12 practices)
06_Security.md               â€” Security (12 practices)
07_Exception_Handling.md     â€” Exception handling (9 practices)
08_Logging_Monitoring.md     â€” Logging (9 practices)
09_Testing.md                â€” Testing (10 practices)
10_Caching.md                â€” Caching (8 practices)
11_Async_Messaging.md        â€” Async & Messaging (10 practices)
12_Validation.md             â€” Validation (10 practices)
13_Configuration.md          â€” Configuration (8 practices)
14_Migration.md              â€” Migration (8 practices)
15_Deployment.md             â€” Deployment (9 practices)
16_Spring_Cloud.md           â€” Spring Cloud (8 practices)
17_WebSocket.md              â€” WebSocket (7 practices)
18_Email_Notification.md     â€” Email (8 practices)
19_File_Storage.md           â€” File Storage (10 practices)
```

Chá»‰ Ä‘á»c domain Ä‘Æ°á»£c yÃªu cáº§u náº¿u scope lÃ  sá»‘ cá»¥ thá»ƒ.
Náº¿u dá»± Ã¡n khÃ´ng dÃ¹ng module nÃ o (vd: khÃ´ng cÃ³ WebSocket dependency), bá» qua domain Ä‘Ã³.

### BÆ°á»›c 3: QuÃ©t mÃ£ nguá»“n báº±ng 4 agents song song

Táº¡o 4 agents song song báº±ng Task tool, má»—i agent quÃ©t ~5 domains:

**Agent A â€” Domains 01-05:**
- 01: Cáº¥u TrÃºc Dá»± Ãn
- 02: Dependency Injection
- 03: REST API & Controller
- 04: Service Layer
- 05: JPA & Hibernate

**Agent B â€” Domains 06-10:**
- 06: Security
- 07: Exception Handling
- 08: Logging & Monitoring
- 09: Testing
- 10: Caching

**Agent C â€” Domains 11-15:**
- 11: Async & Messaging
- 12: Validation
- 13: Configuration
- 14: Migration
- 15: Deployment

**Agent D â€” Domains 16-19:**
- 16: Spring Cloud
- 17: WebSocket
- 18: Email & Notification
- 19: File Storage

Má»—i agent thá»±c hiá»‡n:
1. Äá»c file knowledge cá»§a cÃ¡c domains Ä‘Æ°á»£c giao
2. TrÃ­ch xuáº¥t cÃ¡c detection regex patterns tá»« pháº§n "PhÃ¡t hiá»‡n"
3. Cháº¡y Grep vá»›i tá»«ng regex pattern trÃªn thÆ° má»¥c mÃ£ nguá»“n
4. Thu tháº­p káº¿t quáº£: file, dÃ²ng, ná»™i dung khá»›p
5. Äá»c ngá»¯ cáº£nh xung quanh (Â±5 dÃ²ng) Ä‘á»ƒ xÃ¡c nháº­n
6. PhÃ¢n loáº¡i: TUÃ‚N THá»¦ âœ… hoáº·c VI PHáº M âŒ
7. TÃ­nh Ä‘iá»ƒm per-domain
8. Tráº£ vá» káº¿t quáº£ dáº¡ng JSON:
```json
{
  "domain": "06_Security",
  "score": 72,
  "total_practices": 12,
  "compliant": 8,
  "violations": [
    {
      "id": "06.07",
      "name": "KhÃ´ng log sensitive data",
      "severity": "Báº®T BUá»˜C",
      "penalty": -10,
      "file": "src/main/java/com/example/service/AuthService.java",
      "line": 45,
      "code": "log.info(\"Login: \" + username + \":\" + password)",
      "suggestion": "KhÃ´ng log password. DÃ¹ng: log.info(\"Login attempt: {}\", username)"
    }
  ]
}
```

### BÆ°á»›c 4: TÃ­nh Ä‘iá»ƒm vÃ  lá»c káº¿t quáº£

**TÃ­nh Ä‘iá»ƒm má»—i domain:**
```
Domain Score = max(0, 100 - Î£(violation_penalty))
  ğŸ”´ Báº®T BUá»˜C vi pháº¡m: -10 Ä‘iá»ƒm
  ğŸŸ  KHUYáº¾N NGHá»Š vi pháº¡m: -5 Ä‘iá»ƒm
  ğŸŸ¡ NÃŠN CÃ“ vi pháº¡m: -2 Ä‘iá»ƒm
```

**TÃ­nh Ä‘iá»ƒm tá»•ng vá»›i trá»ng sá»‘:**
```
Trá»ng sá»‘: Security Ã—3, JPA Ã—2, Testing Ã—2, cÃ²n láº¡i Ã—1
Overall Score = Î£(domain_score Ã— weight) / Î£(weight)
```

**Lá»c nhiá»…u:**
- Bá» test/, node_modules/, build/, target/, generated/
- Bá» false positives trong comments
- Loáº¡i bá» trÃ¹ng láº·p (cÃ¹ng file + dÃ²ng + practice)
- Bá» qua domain khÃ´ng Ã¡p dá»¥ng (khÃ´ng cÃ³ dependency tÆ°Æ¡ng á»©ng)

### BÆ°á»›c 5: Xuáº¥t bÃ¡o cÃ¡o

**1. Terminal (tÃ³m táº¯t):**
```markdown
# ğŸ“Š BÃ¡o CÃ¡o ÄÃ¡nh GiÃ¡ Spring Boot Best Practices
**Dá»± Ã¡n:** [tÃªn thÆ° má»¥c]
**NgÃ y:** [YYYY-MM-DD]
**Spring Boot:** [version]
**Java:** [version]
**Pháº¡m vi:** [all / domain X / severity Y]

## Äiá»ƒm Tá»•ng: [XX]/100 â€” [Xáº¿p háº¡ng]

## Äiá»ƒm Theo Domain
| # | Domain | Äiá»ƒm | TuÃ¢n thá»§ | Vi pháº¡m | Trá»ng sá»‘ |
|---|--------|:----:|:--------:|:-------:|:--------:|
| 01 | Cáº¥u TrÃºc Dá»± Ãn | 85 | 7/9 | 2 | Ã—1 |
| ... | ... | ... | ... | ... | ... |

## Chi Tiáº¿t Vi Pháº¡m

### ğŸ”´ Báº®T BUá»˜C (pháº£i sá»­a ngay)

#### [V-01] [06.07] KhÃ´ng log sensitive data â€” AuthService.java:45
**MÃ£ nguá»“n:**
```java
log.info("Login: " + username + ":" + password);
```
**Äá» xuáº¥t:** KhÃ´ng log password
```java
log.info("Login attempt: {}", username);
```

### ğŸŸ  KHUYáº¾N NGHá»Š (nÃªn sá»­a sá»›m)
[tÆ°Æ¡ng tá»±...]

### ğŸŸ¡ NÃŠN CÃ“ (cáº£i thiá»‡n khi cÃ³ thá»i gian)
[tÆ°Æ¡ng tá»±...]

## Äá» Xuáº¥t Æ¯u TiÃªn
1. [Top 3 vi pháº¡m nghiÃªm trá»ng nháº¥t cáº§n sá»­a]
2. [...]
3. [...]
```

**2. File bÃ¡o cÃ¡o (chi tiáº¿t):**
Ghi vÃ o `reports/sbp-audit-YYYY-MM-DD-HHMMSS.md` trong thÆ° má»¥c skill.

### BÆ°á»›c 6: Äá» xuáº¥t tiáº¿p theo

Sau khi xuáº¥t bÃ¡o cÃ¡o, Ä‘á» xuáº¥t:
- "Cháº¡y `/sbp mandatory` Ä‘á»ƒ táº­p trung vÃ o practices Báº®T BUá»˜C"
- "Cháº¡y `/sbp [domain_number]` Ä‘á»ƒ kiá»ƒm tra chuyÃªn sÃ¢u má»™t lÄ©nh vá»±c"
- "Äá»c file knowledge tÆ°Æ¡ng á»©ng Ä‘á»ƒ hiá»ƒu chi tiáº¿t vÃ  Ã¡p dá»¥ng"
- "Cháº¡y `/engineering-failures` Ä‘á»ƒ phÃ¡t hiá»‡n thÃªm cÃ¡c máº«u lá»—i ká»¹ thuáº­t"

## LÆ°u Ã½ quan trá»ng

1. **KhÃ´ng sá»­a code tá»± Ä‘á»™ng** â€” Skill chá»‰ bÃ¡o cÃ¡o vÃ  Ä‘á» xuáº¥t, khÃ´ng tá»± Ã½ sá»­a mÃ£ nguá»“n
2. **False positives** â€” Má»™t sá»‘ findings cÃ³ thá»ƒ lÃ  false positive, ngÆ°á»i dÃ¹ng cáº§n xÃ¡c nháº­n
3. **Ngá»¯ cáº£nh** â€” LuÃ´n Ä‘á»c ngá»¯ cáº£nh xung quanh Ä‘á»ƒ giáº£m false positive
4. **Smart detection** â€” Bá» qua domain khÃ´ng Ã¡p dá»¥ng (vÃ­ dá»¥: khÃ´ng quÃ©t WebSocket náº¿u khÃ´ng cÃ³ dependency)
5. **Bá»• sung** â€” Skill nÃ y bá»• sung cho Engineering Failures, khÃ´ng thay tháº¿. NÃªn cháº¡y cáº£ hai.
